function printLastBill() {
  if (!userData || !userData.bills || userData.bills.length === 0) {
    alert("⚠️ لا توجد فواتير للطباعة.");
    return;
  }

  const lastBill = userData.bills[0];
  const printContent = `
    <html lang="ar" dir="rtl">
    <head>
      <meta charset="UTF-8">
      <title>🖨️ فاتورتي</title>
      <style>
        body { font-family: Arial, sans-serif; direction: rtl; text-align: right; padding: 20px; }
        h2 { color: #009688; }
        p { font-size: 18px; margin: 10px 0; }
      </style>
    </head>
    <body>
      <h2>فاتورتي الأخيرة</h2>
      <p>📅 الشهر: ${lastBill.month}</p>
      <p>💳 القيمة: ${lastBill.amount}</p>
      <p>✅ الحالة: ${lastBill.status}</p>
    </body>
    </html>
  `;

  const blob = new Blob([printContent], { type: 'text/html' });
  const url = URL.createObjectURL(blob);
  const printWindow = window.open(url, '_blank');
  printWindow.onload = function () {
    printWindow.print();
    URL.revokeObjectURL(url);
  };
}
