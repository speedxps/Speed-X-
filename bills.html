function printLastBill() {
  if (!userData || !userData.bills || userData.bills.length === 0) {
    alert("âš ï¸ Ù„Ø§ ØªÙˆØ¬Ø¯ ÙÙˆØ§ØªÙŠØ± Ù„Ù„Ø·Ø¨Ø§Ø¹Ø©.");
    return;
  }

  const lastBill = userData.bills[0];
  const printContent = `
    <html lang="ar" dir="rtl">
    <head>
      <meta charset="UTF-8">
      <title>ğŸ–¨ï¸ ÙØ§ØªÙˆØ±ØªÙŠ</title>
      <style>
        body { font-family: Arial, sans-serif; direction: rtl; text-align: right; padding: 20px; }
        h2 { color: #009688; }
        p { font-size: 18px; margin: 10px 0; }
      </style>
    </head>
    <body>
      <h2>ÙØ§ØªÙˆØ±ØªÙŠ Ø§Ù„Ø£Ø®ÙŠØ±Ø©</h2>
      <p>ğŸ“… Ø§Ù„Ø´Ù‡Ø±: ${lastBill.month}</p>
      <p>ğŸ’³ Ø§Ù„Ù‚ÙŠÙ…Ø©: ${lastBill.amount}</p>
      <p>âœ… Ø§Ù„Ø­Ø§Ù„Ø©: ${lastBill.status}</p>
    </body>
    </html>
  `;

  const blob = new Blob([printContent], { type: 'text/html' });
  const url = URL.createObjectURL(blob);
  const printWindow = window.open(url, '_blank');
  printWindow.onload = function () {
    printWindow.print();
    URL.revokeObjectURL(url);
  };
}
